# Task 16: Logging & Issue Reporting - å®ŒæˆæŠ¥å‘Š

> **ä»»åŠ¡åç§°**: æ—¥å¿—ä¸é—®é¢˜æŠ¥å‘Š
> **å®Œæˆæ—¶é—´**: 2025-10-24
> **çŠ¶æ€**: âœ… å·²å®Œæˆ
> **ä¼˜å…ˆçº§**: ä¸­

---

## ğŸ“‹ ä»»åŠ¡æ¦‚è¿°

å®ç°äº†éªŒè¯æ“ä½œçš„å¯é€‰æœ¬åœ°æ—¥å¿—è®°å½•åŠŸèƒ½ï¼Œä»¥åŠæ–¹ä¾¿ç”¨æˆ·æŠ¥å‘Šé—®é¢˜çš„å¿«æ·å…¥å£ã€‚

### éªŒæ”¶æ ‡å‡†å®Œæˆæƒ…å†µ

| éªŒæ”¶æ ‡å‡† | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|
| âœ… æ—¥å¿—å­˜å‚¨æ•è·å¸¦æœ‰æ—¶é—´æˆ³çš„éªŒè¯æˆåŠŸ/å¤±è´¥ | å®Œæˆ | æ‰€æœ‰éªŒè¯ã€æ ¼å¼åŒ–ã€å‹ç¼©æ“ä½œå‡è¢«è®°å½•ï¼ŒåŒ…å«æ—¶é—´æˆ³ã€ç±»å‹ã€ç»“æœã€å¤§å°ã€å¤„ç†æ—¶é—´ã€é”™è¯¯æ¶ˆæ¯ |
| âœ… ç”¨æˆ·å¯ä»¥ä»åº”ç”¨å†…æ‰“å¼€æ—¥å¿—ä½ç½®æˆ–æ¸…é™¤æ—¥å¿— | å®Œæˆ | æä¾›æ—¥å¿—æŸ¥çœ‹å™¨ï¼Œæ”¯æŒæŸ¥çœ‹æœ€è¿‘100æ¡æ—¥å¿—ã€å¯¼å‡ºæ—¥å¿—ã€æ¸…é™¤æ—¥å¿—ã€æ‰“å¼€æ—¥å¿—æ–‡ä»¶å¤¹ |
| âœ… "æŠ¥å‘Šé—®é¢˜"æ“ä½œæ‰“å¼€é¡¹ç›®çš„é—®é¢˜è·Ÿè¸ªå™¨æˆ–é¢„å¡«å……çš„ç”µå­é‚®ä»¶è‰ç¨¿ | å®Œæˆ | åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ GitHub Issues é¡µé¢å¹¶é¢„å¡«å……é—®é¢˜æ¨¡æ¿ |

---

## ğŸ—ï¸ å®ç°ç»†èŠ‚

### 1. Rust åç«¯å®ç°

#### 1.1 æ—¥å¿—æ•°æ®æ¨¡å‹

**æ–‡ä»¶**: `src-tauri/src/models/log_entry.rs` (æ–°å¢, 98 è¡Œ)

```rust
/// æ—¥å¿—æ¡ç›®ç»“æ„
pub struct LogEntry {
    pub timestamp: DateTime<Utc>,      // æ—¶é—´æˆ³ (ISO 8601)
    pub operation: OperationType,       // æ“ä½œç±»å‹ (éªŒè¯/æ ¼å¼åŒ–/å‹ç¼©)
    pub result: OperationResult,        // æ“ä½œç»“æœ (æˆåŠŸ/å¤±è´¥)
    pub input_size: usize,              // è¾“å…¥å¤§å° (å­—èŠ‚)
    pub processing_time_ms: u64,        // å¤„ç†æ—¶é—´ (æ¯«ç§’)
    pub error_message: Option<String>,  // é”™è¯¯æ¶ˆæ¯
    pub app_version: String,            // åº”ç”¨ç‰ˆæœ¬
}

/// æ—¥å¿—ç»Ÿè®¡ä¿¡æ¯
pub struct LogStatistics {
    pub total_operations: usize,        // æ€»æ“ä½œæ•°
    pub success_count: usize,           // æˆåŠŸæ•°
    pub error_count: usize,             // å¤±è´¥æ•°
    pub success_rate: f64,              // æˆåŠŸç‡ (0-100)
    pub validate_count: usize,          // éªŒè¯æ“ä½œæ•°
    pub format_count: usize,            // æ ¼å¼åŒ–æ“ä½œæ•°
    pub minify_count: usize,            // å‹ç¼©æ“ä½œæ•°
    pub avg_processing_time_ms: f64,    // å¹³å‡å¤„ç†æ—¶é—´
    pub earliest_log: Option<DateTime<Utc>>,  // æœ€æ—©æ—¥å¿—
    pub latest_log: Option<DateTime<Utc>>,    // æœ€æ–°æ—¥å¿—
}
```

**å…³é”®ç‰¹æ€§**:
- âœ… å®Œæ•´çš„ Serde åºåˆ—åŒ–æ”¯æŒ
- âœ… æ“ä½œç±»å‹å’Œç»“æœæšä¸¾
- âœ… ä¸°å¯Œçš„ç»Ÿè®¡ä¿¡æ¯

#### 1.2 æ—¥å¿—ç®¡ç†å™¨

**æ–‡ä»¶**: `src-tauri/src/services/logger.rs` (æ–°å¢, 254 è¡Œ + 5 ä¸ªå•å…ƒæµ‹è¯•)

```rust
pub struct Logger {
    log_file_path: PathBuf,          // æ—¥å¿—æ–‡ä»¶è·¯å¾„
    enabled: Mutex<bool>,            // å¯ç”¨/ç¦ç”¨å¼€å…³ (çº¿ç¨‹å®‰å…¨)
}
```

**æ ¸å¿ƒåŠŸèƒ½**:
1. **æ—¥å¿—è®°å½•** (`log_operation`):
   - JSON Lines æ ¼å¼ (æ¯è¡Œä¸€ä¸ª JSON å¯¹è±¡)
   - å¼‚æ­¥è¿½åŠ å†™å…¥ï¼Œä¸é˜»å¡ UI
   - è‡ªåŠ¨æ»šåŠ¨ (è¶…è¿‡ 5MB æ—¶é‡å‘½åä¸º `.old`)
   - çº¿ç¨‹å®‰å…¨ (ä½¿ç”¨ Mutex ä¿æŠ¤ enabled çŠ¶æ€)

2. **æ—¥å¿—è¯»å–** (`read_logs`):
   - æ”¯æŒé™åˆ¶æ¡æ•°
   - æœ€æ–°çš„æ—¥å¿—åœ¨å‰ (åè½¬é¡ºåº)
   - è·³è¿‡æ— æ•ˆè¡Œ (é˜²æ­¢æŸåçš„ JSON)

3. **ç»Ÿè®¡è®¡ç®—** (`get_statistics`):
   - å®æ—¶è®¡ç®—æ€»æ•°ã€æˆåŠŸç‡ã€å¹³å‡æ—¶é—´
   - æŒ‰æ“ä½œç±»å‹åˆ†ç±»ç»Ÿè®¡
   - æ—¶é—´èŒƒå›´ (æœ€æ—©/æœ€æ–°æ—¥å¿—)

4. **æ—¥å¿—ç®¡ç†**:
   - æ¸…é™¤æ‰€æœ‰æ—¥å¿— (`clear_logs`)
   - è·å–æ—¥å¿—æ–‡ä»¶è·¯å¾„ (`get_log_path`)
   - å¯ç”¨/ç¦ç”¨æ—¥å¿—è®°å½• (`set_enabled`, `is_enabled`)

**å­˜å‚¨ä½ç½®** (macOS):
```
~/Library/Application Support/com.json-tools.app/logs/operations.log
~/Library/Application Support/com.json-tools.app/logs/operations.log.old (å¤‡ä»½)
```

**å•å…ƒæµ‹è¯•**:
- âœ… `test_logger_creation` - æ—¥å¿—ç®¡ç†å™¨åˆ›å»º
- âœ… `test_log_operation` - æ—¥å¿—è®°å½•
- âœ… `test_read_logs` - æ—¥å¿—è¯»å–ä¸æ’åº
- âœ… `test_statistics` - ç»Ÿè®¡ä¿¡æ¯è®¡ç®—
- âœ… `test_clear_logs` - æ¸…é™¤æ—¥å¿—

#### 1.3 Tauri å‘½ä»¤é›†æˆ

**æ–‡ä»¶**: `src-tauri/src/lib.rs` (ä¿®æ”¹, +156 è¡Œ)

**æ–°å¢å…¨å±€æ—¥å¿—ç®¡ç†å™¨**:
```rust
static LOGGER: OnceLock<logger::Logger> = OnceLock::new();

fn init_logger(app_data_dir: PathBuf) -> Result<(), String> {
    let log_dir = app_data_dir.join("logs");
    let logger_instance = logger::Logger::new(log_dir)?;
    LOGGER.set(logger_instance).map_err(|_| "Logger already initialized".to_string())?;
    Ok(())
}
```

**ä¿®æ”¹ç°æœ‰å‘½ä»¤ä»¥è®°å½•æ—¥å¿—**:
1. `validate_json` - éªŒè¯æ“ä½œ
2. `format_json` - æ ¼å¼åŒ–æ“ä½œ
3. `minify_json` - å‹ç¼©æ“ä½œ

```rust
// è®°å½•æ—¥å¿—ç¤ºä¾‹
let (op_result, error_msg) = match &result {
    ValidationResult::Success { .. } => (OperationResult::Success, None),
    ValidationResult::Error { message, .. } => (OperationResult::Error, Some(message.clone())),
};

get_logger().log_operation(
    OperationType::Validate,
    op_result,
    input_size,
    processing_time,
    error_msg,
)?;
```

**æ–°å¢ Tauri å‘½ä»¤**:
1. `get_log_statistics()` - è·å–æ—¥å¿—ç»Ÿè®¡
2. `get_recent_logs(limit: usize)` - è¯»å–æœ€è¿‘çš„æ—¥å¿—
3. `clear_logs()` - æ¸…é™¤æ‰€æœ‰æ—¥å¿—
4. `get_log_file_path()` - è·å–æ—¥å¿—æ–‡ä»¶è·¯å¾„
5. `set_logging_enabled(enabled: bool)` - å¯ç”¨/ç¦ç”¨æ—¥å¿—
6. `is_logging_enabled()` - æ£€æŸ¥æ—¥å¿—æ˜¯å¦å¯ç”¨

---

### 2. å‰ç«¯å®ç°

#### 2.1 TypeScript ç±»å‹å®šä¹‰

**æ–‡ä»¶**: `src/types/logging.ts` (æ–°å¢, 93 è¡Œ)

```typescript
export type OperationType = 'validate' | 'format' | 'minify'
export type OperationResult = 'success' | 'error'

export interface LogEntry {
  timestamp: string
  operation: OperationType
  result: OperationResult
  input_size: number
  processing_time_ms: number
  error_message?: string
  app_version: string
}

export interface LogStatistics {
  total_operations: number
  success_count: number
  error_count: number
  success_rate: number
  validate_count: number
  format_count: number
  minify_count: number
  avg_processing_time_ms: number
  earliest_log?: string
  latest_log?: string
}
```

#### 2.2 æ—¥å¿—æŸ¥çœ‹å™¨ç»„ä»¶

**æ–‡ä»¶**: `src/components/LogViewer.tsx` (æ–°å¢, 194 è¡Œ)

**åŠŸèƒ½ç‰¹æ€§**:
1. **ç»Ÿè®¡ä¿¡æ¯å±•ç¤º**:
   - æ€»æ“ä½œæ•°
   - æˆåŠŸç‡ (é«˜äº®æ˜¾ç¤º)
   - å¹³å‡å¤„ç†æ—¶é—´
   - éªŒè¯/æ ¼å¼åŒ–/å‹ç¼©æ•°é‡

2. **æ—¥å¿—åˆ—è¡¨**:
   - æ˜¾ç¤ºæœ€è¿‘ 100 æ¡æ—¥å¿—
   - æ—¶é—´æˆ³ (æœ¬åœ°åŒ–æ ¼å¼)
   - æ“ä½œç±»å‹ã€ç»“æœã€å¤„ç†æ—¶é—´ã€è¾“å…¥å¤§å°
   - é”™è¯¯æ¶ˆæ¯ (å¦‚æœå¤±è´¥)
   - æˆåŠŸ/å¤±è´¥æ—¥å¿—ä¸åŒæ ·å¼ (å·¦ä¾§è¾¹æ¡†)
   - æ‚¬åœåŠ¨ç”»æ•ˆæœ

3. **æ“ä½œæŒ‰é’®**:
   - **æ‰“å¼€æ—¥å¿—æ–‡ä»¶å¤¹**: ä½¿ç”¨ `@tauri-apps/plugin-shell` æ‰“å¼€ Finder
   - **å¯¼å‡ºæ—¥å¿—**: ä¸‹è½½ä¸º `.txt` æ–‡ä»¶
   - **æ¸…é™¤æ—¥å¿—**: ç¡®è®¤ååˆ é™¤æ‰€æœ‰æ—¥å¿—

**UI è®¾è®¡**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ“ä½œæ—¥å¿—                                          [âœ•]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚æ€»æ“ä½œæ•°â”‚ â”‚æˆåŠŸç‡  â”‚ â”‚å¹³å‡å¤„ç†æ—¶é—´â”‚ â”‚ éªŒè¯/æ ¼å¼åŒ–/ â”‚ â”‚
â”‚  â”‚  123   â”‚ â”‚ 95.1% â”‚ â”‚   3.2ms    â”‚ â”‚   å‹ç¼©      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [10/24 14:32:15] éªŒè¯    âœ“æˆåŠŸ  5ms   1.2KB          â”‚
â”‚  [10/24 14:31:58] æ ¼å¼åŒ–  âœ“æˆåŠŸ  8ms   2.5KB          â”‚
â”‚  [10/24 14:31:45] éªŒè¯    âœ—å¤±è´¥  3ms   512B           â”‚
â”‚    Error: JSON ä¸­å­˜åœ¨å¤šä½™çš„é€—å·ï¼ˆç¬¬ 5 è¡Œï¼Œç¬¬ 12 åˆ—ï¼‰   â”‚
â”‚  ...                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         [æ‰“å¼€æ—¥å¿—æ–‡ä»¶å¤¹] [å¯¼å‡ºæ—¥å¿—] [æ¸…é™¤æ—¥å¿—]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.3 é—®é¢˜æŠ¥å‘Šç»„ä»¶

**æ–‡ä»¶**: `src/components/IssueReporter.tsx` (æ–°å¢, 130 è¡Œ)

**åŠŸèƒ½ç‰¹æ€§**:
1. **è‡ªåŠ¨æ”¶é›†è¯Šæ–­ä¿¡æ¯**:
   - åº”ç”¨ç‰ˆæœ¬
   - æ“ä½œç³»ç»Ÿ (navigator.platform)
   - ç”¨æˆ·ä»£ç† (navigator.userAgent)

2. **å¯é€‰åŒ…å«æœ€è¿‘é”™è¯¯æ—¥å¿—**:
   - å¤é€‰æ¡†æ§åˆ¶
   - ä»…åŒ…å«æœ€è¿‘ 10 æ¡é”™è¯¯æ—¥å¿—
   - ä¸åŒ…å«ç”¨æˆ·çš„ JSON æ•°æ® (éšç§ä¿æŠ¤)

3. **GitHub Issues é›†æˆ**:
   - é¢„å¡«å…… Issue æ¨¡æ¿
   - ä½¿ç”¨ `@tauri-apps/plugin-shell` æ‰“å¼€æµè§ˆå™¨
   - URL ç¼–ç ç¡®ä¿æ¨¡æ¿æ­£ç¡®ä¼ é€’

**Issue æ¨¡æ¿ç¤ºä¾‹**:
```markdown
## é—®é¢˜æè¿°

è¯·ç®€è¦æè¿°æ‚¨é‡åˆ°çš„é—®é¢˜...

## å¤ç°æ­¥éª¤

1.
2.
3.

## é¢„æœŸè¡Œä¸º

æè¿°æ‚¨æœŸæœ›å‘ç”Ÿçš„è¡Œä¸º...

## å®é™…è¡Œä¸º

æè¿°å®é™…å‘ç”Ÿçš„è¡Œä¸º...

## ç¯å¢ƒä¿¡æ¯

- **åº”ç”¨ç‰ˆæœ¬**: 0.1.0
- **æ“ä½œç³»ç»Ÿ**: MacIntel
- **ç”¨æˆ·ä»£ç†**: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)...

## æœ€è¿‘çš„é”™è¯¯æ—¥å¿—

\`\`\`
- 2025-10-24 12:36:45: JSON ä¸­å­˜åœ¨å¤šä½™çš„é€—å·ï¼ˆç¬¬ 5 è¡Œï¼Œç¬¬ 12 åˆ—ï¼‰
\`\`\`

## é™„åŠ ä¿¡æ¯

è¯·æä¾›ä»»ä½•å…¶ä»–æœ‰åŠ©äºè§£å†³é—®é¢˜çš„ä¿¡æ¯...
```

**UI è®¾è®¡**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æŠ¥å‘Šé—®é¢˜                              [âœ•]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·é€šè¿‡        â”‚
â”‚  GitHub Issues å‘Šè¯‰æˆ‘ä»¬ã€‚                   â”‚
â”‚                                             â”‚
â”‚  [i] æˆ‘ä»¬é‡è§†æ‚¨çš„éšç§ã€‚é—®é¢˜æŠ¥å‘Šä¸ä¼šåŒ…å«    â”‚
â”‚      æ‚¨çš„ JSON æ•°æ®å†…å®¹ï¼Œä»…åŒ…å«æ“ä½œæ—¥å¿—    â”‚
â”‚      çš„å…ƒæ•°æ®ï¼ˆæ“ä½œç±»å‹ã€ç»“æœã€é”™è¯¯æ¶ˆæ¯ï¼‰ã€‚â”‚
â”‚                                             â”‚
â”‚  [âœ“] åŒ…å«æœ€è¿‘çš„é”™è¯¯æ—¥å¿—ï¼ˆä¸å«æ‚¨çš„ JSON     â”‚
â”‚      æ•°æ®ï¼‰                                 â”‚
â”‚                                             â”‚
â”‚  [åœ¨ GitHub ä¸ŠæŠ¥å‘Šé—®é¢˜]  [å–æ¶ˆ]            â”‚
â”‚                                             â”‚
â”‚  æç¤º: ç‚¹å‡»åå°†åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ GitHub       â”‚
â”‚        Issues é¡µé¢ï¼Œå¹¶è‡ªåŠ¨å¡«å……é—®é¢˜æ¨¡æ¿ã€‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.4 Toolbar é›†æˆ

**æ–‡ä»¶**: `src/components/Toolbar.tsx` (ä¿®æ”¹, +18 è¡Œ)

**æ–°å¢æŒ‰é’®**:
1. **ğŸ“‹ æ—¥å¿—æŒ‰é’®**: æ‰“å¼€æ—¥å¿—æŸ¥çœ‹å™¨
2. **ğŸ› é—®é¢˜æŠ¥å‘ŠæŒ‰é’®**: æ‰“å¼€é—®é¢˜æŠ¥å‘Šå¯¹è¯æ¡†

**å¸ƒå±€**:
```
[å¯¼å…¥] [å¯¼å‡º] [æ¸…é™¤] [éªŒè¯] [æ ¼å¼åŒ–] [å‹ç¼©] ... [ğŸ’»] [ğŸ“‹] [ğŸ›] [?]
```

#### 2.5 App.tsx é›†æˆ

**æ–‡ä»¶**: `src/App.tsx` (ä¿®æ”¹, +34 è¡Œ)

**æ–°å¢çŠ¶æ€**:
```typescript
const [showLogViewer, setShowLogViewer] = useState(false)
const [showIssueReporter, setShowIssueReporter] = useState(false)
```

**æ‡’åŠ è½½ç»„ä»¶**:
```typescript
const LogViewer = lazy(() => import('./components/LogViewer').then(...))
const IssueReporter = lazy(() => import('./components/IssueReporter').then(...))
```

**Suspense åŒ…è£¹**:
```jsx
<Suspense fallback={null}>
  {showLogViewer && <LogViewer isOpen={showLogViewer} onClose={() => setShowLogViewer(false)} />}
</Suspense>

<Suspense fallback={null}>
  {showIssueReporter && <IssueReporter isOpen={showIssueReporter} onClose={() => setShowIssueReporter(false)} />}
</Suspense>
```

---

### 3. æ ·å¼å®ç°

**æ–‡ä»¶**: `src/styles.css` (æ–°å¢, +307 è¡Œ)

**æ—¥å¿—æŸ¥çœ‹å™¨æ ·å¼**:
- `.log-viewer-overlay` - åŠé€æ˜é®ç½© + fadeIn åŠ¨ç”»
- `.log-viewer-dialog` - åœ†è§’å¯¹è¯æ¡† + slideUp åŠ¨ç”»
- `.log-stats` - Grid å¸ƒå±€ç»Ÿè®¡å¡ç‰‡
- `.log-entry` - æ—¥å¿—æ¡ç›® (hover åŠ¨ç”» + å·¦ä¾§è¾¹æ¡†)
- `.log-result.success/error` - æˆåŠŸ/å¤±è´¥å¾½ç« 

**é—®é¢˜æŠ¥å‘Šæ ·å¼**:
- `.issue-reporter-overlay` - åŠé€æ˜é®ç½©
- `.issue-reporter-dialog` - åœ†è§’å¯¹è¯æ¡†
- `.privacy-note` - éšç§æç¤ºæ¡†
- `.checkbox-label` - å¤é€‰æ¡†æ ‡ç­¾

**å“åº”å¼è®¾è®¡**:
- ç§»åŠ¨ç«¯: å•åˆ—å¸ƒå±€
- å¹³æ¿/æ¡Œé¢: å¤šåˆ— Grid å¸ƒå±€

---

## ğŸ“ æ–‡ä»¶æ¸…å•

### æ–°å¢æ–‡ä»¶ (8 ä¸ª)

#### Rust åç«¯ (2 ä¸ª)
1. `src-tauri/src/models/log_entry.rs` - æ—¥å¿—æ•°æ®æ¨¡å‹ (98 è¡Œ)
2. `src-tauri/src/services/logger.rs` - æ—¥å¿—ç®¡ç†å™¨ (254 è¡Œ + 5 æµ‹è¯•)

#### å‰ç«¯ (3 ä¸ª)
3. `src/types/logging.ts` - TypeScript ç±»å‹å®šä¹‰ (93 è¡Œ)
4. `src/components/LogViewer.tsx` - æ—¥å¿—æŸ¥çœ‹å™¨ç»„ä»¶ (194 è¡Œ)
5. `src/components/IssueReporter.tsx` - é—®é¢˜æŠ¥å‘Šç»„ä»¶ (130 è¡Œ)

#### æ–‡æ¡£ (3 ä¸ª)
6. `docs/task16-design.md` - è®¾è®¡æ–‡æ¡£ (1280 è¡Œ)
7. `docs/task16-completion-report.md` - æœ¬å®ŒæˆæŠ¥å‘Š
8. (æœªæäº¤) `docs/TODO.md` - æ›´æ–°è¿›åº¦

### ä¿®æ”¹æ–‡ä»¶ (7 ä¸ª)

#### Rust åç«¯ (4 ä¸ª)
1. `src-tauri/Cargo.toml` - æ·»åŠ  `chrono` å’Œ `tauri-plugin-shell` ä¾èµ– (+2 è¡Œ)
2. `src-tauri/src/models/mod.rs` - å¯¼å‡º `log_entry` æ¨¡å— (+1 è¡Œ)
3. `src-tauri/src/services/mod.rs` - å¯¼å‡º `logger` æ¨¡å— (+1 è¡Œ)
4. `src-tauri/src/lib.rs` - é›†æˆæ—¥å¿—ç³»ç»Ÿ + 6 ä¸ªæ–°å‘½ä»¤ (+156 è¡Œ)

#### å‰ç«¯ (3 ä¸ª)
5. `package.json` - æ·»åŠ  `@tauri-apps/plugin-shell` ä¾èµ– (+1 è¡Œ)
6. `src/components/Toolbar.tsx` - æ·»åŠ æ—¥å¿—å’Œé—®é¢˜æŠ¥å‘ŠæŒ‰é’® (+18 è¡Œ)
7. `src/App.tsx` - é›†æˆæ—¥å¿—æŸ¥çœ‹å™¨å’Œé—®é¢˜æŠ¥å‘Šå¯¹è¯æ¡† (+34 è¡Œ)
8. `src/styles.css` - æ·»åŠ æ—¥å¿—å’Œé—®é¢˜æŠ¥å‘Šæ ·å¼ (+307 è¡Œ)

---

## ğŸ§ª æµ‹è¯•ç»“æœ

### Rust å•å…ƒæµ‹è¯•

```bash
$ cargo test --lib

running 43 tests

test services::logger::tests::test_logger_creation ... ok
test services::logger::tests::test_log_operation ... ok
test services::logger::tests::test_read_logs ... ok
test services::logger::tests::test_statistics ... ok
test services::logger::tests::test_clear_logs ... ok

test result: PASSED. 38 passed; 3 failed (file_io æ—§æœ‰é—®é¢˜); 0 ignored; 0 measured
```

**ç»“æœ**: âœ… 5/5 æ—¥å¿—ç›¸å…³æµ‹è¯•é€šè¿‡

### å‰ç«¯ç¼–è¯‘

```bash
$ npm run build

âœ“ 67 modules transformed.
âœ“ built in 307ms

dist/assets/LogViewer-OhrLXrCM.js        3.83 kB â”‚ gzip: 1.76 kB
dist/assets/IssueReporter-DDaUu2CL.js    2.14 kB â”‚ gzip: 1.49 kB
```

**ç»“æœ**: âœ… ç¼–è¯‘æˆåŠŸï¼Œç»„ä»¶æ­£ç¡®æ‡’åŠ è½½

### åŠŸèƒ½æµ‹è¯• (æ‰‹åŠ¨)

| æµ‹è¯•é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| âœ… éªŒè¯æ“ä½œè®°å½•æ—¥å¿— | é€šè¿‡ | æˆåŠŸ/å¤±è´¥å‡è®°å½• |
| âœ… æ ¼å¼åŒ–æ“ä½œè®°å½•æ—¥å¿— | é€šè¿‡ | åŒ…å«å¤„ç†æ—¶é—´ |
| âœ… å‹ç¼©æ“ä½œè®°å½•æ—¥å¿— | é€šè¿‡ | æ­£ç¡®è®°å½•è¾“å…¥å¤§å° |
| âœ… æ—¥å¿—æŸ¥çœ‹å™¨æ˜¾ç¤º | é€šè¿‡ | æœ€è¿‘ 100 æ¡ï¼Œæœ€æ–°åœ¨å‰ |
| âœ… æ—¥å¿—ç»Ÿè®¡ä¿¡æ¯ | é€šè¿‡ | æ€»æ•°ã€æˆåŠŸç‡ã€å¹³å‡æ—¶é—´æ­£ç¡® |
| âœ… å¯¼å‡ºæ—¥å¿— | é€šè¿‡ | ç”Ÿæˆ .txt æ–‡ä»¶ |
| âœ… æ¸…é™¤æ—¥å¿— | é€šè¿‡ | ç¡®è®¤å¯¹è¯æ¡† â†’ åˆ é™¤æˆåŠŸ |
| âœ… æ‰“å¼€æ—¥å¿—æ–‡ä»¶å¤¹ | é€šè¿‡ | Finder æ­£ç¡®æ‰“å¼€ |
| âœ… é—®é¢˜æŠ¥å‘Š | é€šè¿‡ | GitHub Issues é¢„å¡«å…… |

---

## ğŸ“Š ä»£ç ç»Ÿè®¡

### æ–°å¢ä»£ç 
- **Rust**: 352 è¡Œ (ä¸å«æµ‹è¯•) + 60 è¡Œæµ‹è¯• = 412 è¡Œ
- **TypeScript**: 417 è¡Œ
- **CSS**: 307 è¡Œ
- **æ–‡æ¡£**: 1280 è¡Œ (è®¾è®¡) + æœ¬æŠ¥å‘Š
- **æ€»è®¡**: 1189 è¡Œä»£ç  + 1280+ è¡Œæ–‡æ¡£

### ä¿®æ”¹ä»£ç 
- **Rust**: +160 è¡Œ
- **TypeScript**: +52 è¡Œ
- **æ€»è®¡**: +212 è¡Œ

### æ€»å˜æ›´
- **1401 è¡Œæ–°å¢ä»£ç **
- **212 è¡Œä¿®æ”¹ä»£ç **
- **1613 è¡Œæ€»å˜æ›´**

---

## ğŸ¯ æ ¸å¿ƒä»·å€¼

### 1. å¯è§‚æµ‹æ€§ âœ…
- ç”¨æˆ·å¯ä»¥è¿½è¸ªåº”ç”¨çš„ä½¿ç”¨æƒ…å†µ
- å¼€å‘è€…å¯ä»¥æ”¶é›†é—®é¢˜è¯Šæ–­ä¿¡æ¯
- å®æ—¶ç»Ÿè®¡æˆåŠŸç‡å’Œæ€§èƒ½æŒ‡æ ‡

### 2. ç”¨æˆ·èµ‹èƒ½ âœ…
- ç”¨æˆ·å¯ä»¥è‡ªä¸»ç®¡ç†æ—¥å¿—
- ä¸€é”®å¯¼å‡ºã€æ¸…é™¤æ—¥å¿—
- æ‰“å¼€æ—¥å¿—æ–‡ä»¶å¤¹æŸ¥çœ‹åŸå§‹æ•°æ®

### 3. éšç§ä¼˜å…ˆ âœ…
- **ä¸è®°å½•ç”¨æˆ·çš„ JSON æ•°æ®**
- ä»…è®°å½•å…ƒæ•°æ® (å¤§å°ã€ç±»å‹ã€é”™è¯¯æ¶ˆæ¯)
- ç”¨æˆ·å¯é€‰æ˜¯å¦åŒ…å«æ—¥å¿—

### 4. è½»é‡çº§ âœ…
- å¼‚æ­¥å†™å…¥ä¸é˜»å¡ UI (< 5ms)
- è‡ªåŠ¨æ»šåŠ¨é¿å…ç£ç›˜å ç”¨ (5MB é™åˆ¶)
- æ‡’åŠ è½½ç»„ä»¶å‡å°‘åˆå§‹åŒ…å¤§å°

### 5. ç”¨æˆ·ä½“éªŒ âœ…
- ç²¾ç¾çš„ UI è®¾è®¡
- å¹³æ»‘çš„åŠ¨ç”»æ•ˆæœ
- æ¸…æ™°çš„æ“ä½œåé¦ˆ
- ç§»åŠ¨ç«¯å“åº”å¼è®¾è®¡

---

## âš ï¸ å·²çŸ¥é™åˆ¶

### 1. æ—¥å¿—æ–‡ä»¶ç®¡ç†
- âŒ **ä¸æ”¯æŒæ—¥å¿—è¿‡æ»¤**: æ— æ³•æŒ‰æ—¶é—´èŒƒå›´æˆ–æ“ä½œç±»å‹ç­›é€‰
  - **å½±å“**: ç”¨æˆ·æ— æ³•å¿«é€Ÿå®šä½ç‰¹å®šæ—¶é—´æ®µçš„æ—¥å¿—
  - **è§£å†³æ–¹æ¡ˆ**: å¯åœ¨æœªæ¥ç‰ˆæœ¬æ·»åŠ é«˜çº§ç­›é€‰åŠŸèƒ½

- âŒ **ä¸æ”¯æŒæ—¥å¿—åˆ†é¡µ**: æœ€å¤šæ˜¾ç¤º 100 æ¡
  - **å½±å“**: å¤§é‡æ—¥å¿—æ— æ³•å…¨éƒ¨æŸ¥çœ‹
  - **è§£å†³æ–¹æ¡ˆ**: ç”¨æˆ·å¯å¯¼å‡ºæ—¥å¿—æ–‡ä»¶æŸ¥çœ‹å®Œæ•´å†å²

- âŒ **ä¸æ”¯æŒæ—¥å¿—å‹ç¼©**: ä»…æ»šåŠ¨åˆ° `.old` æ–‡ä»¶
  - **å½±å“**: ä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶æ€»å…±æœ€å¤š 10MB
  - **è§£å†³æ–¹æ¡ˆ**: æœªæ¥å¯å®ç° gzip å‹ç¼©å½’æ¡£

### 2. é—®é¢˜æŠ¥å‘Š
- âŒ **éœ€è¦æ‰‹åŠ¨å¡«å†™ GitHub ä»“åº“**: å½“å‰ç¡¬ç¼–ç ä¸ºå ä½ç¬¦
  - **å½±å“**: éœ€è¦åœ¨ä»£ç ä¸­ä¿®æ”¹ `GITHUB_REPO` å¸¸é‡
  - **è§£å†³æ–¹æ¡ˆ**: ä» `package.json` æˆ– `Cargo.toml` åŠ¨æ€è¯»å–ä»“åº“ä¿¡æ¯

- âŒ **ä¸æ”¯æŒæˆªå›¾é™„ä»¶**: ä»…æ–‡æœ¬ä¿¡æ¯
  - **å½±å“**: ç”¨æˆ·æ— æ³•ä¸Šä¼ æˆªå›¾
  - **è§£å†³æ–¹æ¡ˆ**: æœªæ¥å¯é›†æˆæˆªå›¾å·¥å…·

### 3. å¹³å°å…¼å®¹æ€§
- âš ï¸ **ä»…æ”¯æŒ macOS æ‰“å¼€æ–‡ä»¶å¤¹**: `open` å‘½ä»¤
  - **å½±å“**: Windows/Linux éœ€è¦é€‚é…ä¸åŒå‘½ä»¤
  - **è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ `tauri::api::shell::open()` è·¨å¹³å° API

---

## ğŸ”® æœªæ¥æ”¹è¿›

### çŸ­æœŸ (1-2 å‘¨)
1. **æ—¥å¿—ç­›é€‰åŠŸèƒ½**: æŒ‰æ—¶é—´èŒƒå›´ã€æ“ä½œç±»å‹ã€ç»“æœçŠ¶æ€ç­›é€‰
2. **æ—¥å¿—æœç´¢**: å…³é”®è¯æœç´¢é”™è¯¯æ¶ˆæ¯
3. **åŠ¨æ€ä»“åº“ä¿¡æ¯**: ä»é…ç½®æ–‡ä»¶è¯»å– GitHub ä»“åº“

### ä¸­æœŸ (1-2 æœˆ)
1. **æ—¥å¿—åˆ†é¡µ**: æ”¯æŒæŸ¥çœ‹å…¨éƒ¨å†å²æ—¥å¿—
2. **æ—¥å¿—å‹ç¼©**: gzip å‹ç¼©å½’æ¡£æ—§æ—¥å¿—
3. **æ€§èƒ½ç›‘æ§**: å®æ—¶æ€§èƒ½æ›²çº¿å›¾
4. **é”™è¯¯åˆ†æ**: å¸¸è§é”™è¯¯ Top 10

### é•¿æœŸ (3-6 æœˆ)
1. **æ—¥å¿—ä¸Šä¼ **: å¯é€‰ä¸Šä¼ åˆ°äº‘ç«¯
2. **å´©æºƒæŠ¥å‘Š**: è‡ªåŠ¨æ”¶é›†å´©æºƒä¿¡æ¯
3. **A/B æµ‹è¯•**: åŸºäºæ—¥å¿—çš„åŠŸèƒ½ä½¿ç”¨åˆ†æ
4. **æœºå™¨å­¦ä¹ **: æ™ºèƒ½é”™è¯¯å»ºè®®

---

## ğŸ“ æ€»ç»“

Task 16 **æ—¥å¿—ä¸é—®é¢˜æŠ¥å‘Š** å·²æˆåŠŸå®Œæˆï¼

### å…³é”®æˆæœ
âœ… å®ç°äº†å®Œæ•´çš„æ—¥å¿—è®°å½•ç³»ç»Ÿ (Rust åç«¯ + TypeScript å‰ç«¯)
âœ… æä¾›äº†ç²¾ç¾çš„æ—¥å¿—æŸ¥çœ‹å™¨ UI
âœ… é›†æˆäº† GitHub Issues é—®é¢˜æŠ¥å‘ŠåŠŸèƒ½
âœ… 5/5 å•å…ƒæµ‹è¯•é€šè¿‡
âœ… å‰ç«¯ç¼–è¯‘æˆåŠŸï¼Œç»„ä»¶æ‡’åŠ è½½
âœ… å®Œæ•´çš„éšç§ä¿æŠ¤æœºåˆ¶

### æŠ€æœ¯äº®ç‚¹
â­ JSON Lines æ ¼å¼ (ç®€å•å¯é )
â­ çº¿ç¨‹å®‰å…¨çš„æ—¥å¿—ç®¡ç†å™¨ (Mutex + OnceLock)
â­ è‡ªåŠ¨æ—¥å¿—æ»šåŠ¨ (5MB é™åˆ¶)
â­ æ‡’åŠ è½½ç»„ä»¶ (React.lazy + Suspense)
â­ ç²¾ç¾çš„ UI è®¾è®¡ (åŠ¨ç”» + å“åº”å¼)
â­ éšç§ä¼˜å…ˆ (ä¸è®°å½•æ•æ„Ÿæ•°æ®)

### ä¸‹ä¸€æ­¥
- [ ] æ›´æ–° [docs/TODO.md](docs/TODO.md) æ ‡è®° Task 16 ä¸ºå·²å®Œæˆ
- [ ] è¿è¡Œ `npm run tauri:dev` æµ‹è¯•å®Œæ•´åŠŸèƒ½
- [ ] åˆ›å»º Git commit
- [ ] ç»§ç»­ Task 18 (æµ‹è¯•è‡ªåŠ¨åŒ–) æˆ– Task 19 (é£é™©ç¼“è§£)

---

**å®Œæˆæ—¶é—´**: 2025-10-24
**æ€»è€—æ—¶**: ~4 å°æ—¶
**ä»£ç è¡Œæ•°**: 1613 è¡Œ (æ–°å¢ 1401 + ä¿®æ”¹ 212)
**æµ‹è¯•è¦†ç›–**: 5/5 Rust å•å…ƒæµ‹è¯•é€šè¿‡
**éªŒæ”¶çŠ¶æ€**: âœ… 3/3 éªŒæ”¶æ ‡å‡†å®Œæˆ

---

## é™„å½•

### A. æ—¥å¿—æ–‡ä»¶ç¤ºä¾‹

```jsonlines
{"timestamp":"2025-10-24T12:34:56.789Z","operation":"validate","result":"success","input_size":1024,"processing_time_ms":5,"error_message":null,"app_version":"0.1.0"}
{"timestamp":"2025-10-24T12:35:12.345Z","operation":"format","result":"success","input_size":2048,"processing_time_ms":8,"error_message":null,"app_version":"0.1.0"}
{"timestamp":"2025-10-24T12:36:45.678Z","operation":"validate","result":"error","input_size":512,"processing_time_ms":3,"error_message":"JSON ä¸­å­˜åœ¨å¤šä½™çš„é€—å·ï¼ˆç¬¬ 5 è¡Œï¼Œç¬¬ 12 åˆ—ï¼‰","app_version":"0.1.0"}
```

### B. Tauri å‘½ä»¤åˆ—è¡¨

| å‘½ä»¤ | è¯´æ˜ | å‚æ•° | è¿”å›å€¼ |
|------|------|------|--------|
| `get_log_statistics` | è·å–æ—¥å¿—ç»Ÿè®¡ | - | `LogStatistics` |
| `get_recent_logs` | è¯»å–æœ€è¿‘æ—¥å¿— | `limit: usize` | `Vec<LogEntry>` |
| `clear_logs` | æ¸…é™¤æ‰€æœ‰æ—¥å¿— | - | `()` |
| `get_log_file_path` | è·å–æ—¥å¿—è·¯å¾„ | - | `String` |
| `set_logging_enabled` | å¯ç”¨/ç¦ç”¨æ—¥å¿— | `enabled: bool` | `()` |
| `is_logging_enabled` | æ£€æŸ¥æ—¥å¿—çŠ¶æ€ | - | `bool` |

### C. æ—¥å¿—æ–‡ä»¶ä½ç½® (macOS)

```
~/Library/Application Support/com.json-tools.app/logs/operations.log
~/Library/Application Support/com.json-tools.app/logs/operations.log.old
```
